{"ast":null,"code":"import _slicedToArray from\"C:/Users/cloud/Desktop/praktikum/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext,useEffect}from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function EditProfilePopup(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser]);function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}function handleSubmit(e){e.preventDefault();props.onUpdateUser(name,description);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",text:props.isLoading?'Сохранение...':'Сохранить',isOpen:props.isOpen,onClose:props.onClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__data popup__data_type_name\",name:\"name\",placeholder:\"\\u0418\\u043C\\u044F\",required:true,minLength:\"2\",maxLength:\"40\",onChange:handleNameChange,value:name}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__reminder popup__reminder_type_name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"popup__data popup__data_type_description\",name:\"description\",placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",required:true,minLength:\"2\",maxLength:\"200\",onChange:handleDescriptionChange,value:description}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__reminder popup__reminder_type_description\"})]});}","map":{"version":3,"names":["useState","useContext","useEffect","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","props","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","about","handleNameChange","e","target","value","handleDescriptionChange","handleSubmit","preventDefault","onUpdateUser","title","text","isLoading","isOpen","onClose","onSubmit","children","type","className","placeholder","required","minLength","maxLength","onChange"],"sources":["C:/Users/cloud/Desktop/praktikum/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const [name, setName] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const currentUser = useContext(CurrentUserContext);\r\n    useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser(name, description);\r\n    }\r\n    return (\r\n        <PopupWithForm\r\n            name=\"profile\"\r\n            title=\"Редактировать профиль\"\r\n            text={props.isLoading ? 'Сохранение...' : 'Сохранить'}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        >\r\n            <input\r\n                type=\"text\"\r\n                className=\"popup__data popup__data_type_name\"\r\n                name=\"name\"\r\n                placeholder=\"Имя\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"40\"\r\n                onChange={handleNameChange}\r\n                value={name}\r\n            />\r\n            <span className=\"popup__reminder popup__reminder_type_name\"></span>\r\n            <input\r\n                type=\"text\"\r\n                className=\"popup__data popup__data_type_description\"\r\n                name=\"description\"\r\n                placeholder=\"О себе\"\r\n                required\r\n                minLength=\"2\"\r\n                maxLength=\"200\"\r\n                onChange={handleDescriptionChange}\r\n                value={description}\r\n            />\r\n            <span className=\"popup__reminder popup__reminder_type_description\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n"],"mappings":"2IAAA,OAASA,QAAQ,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CACvD,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,cAAe,SAAS,CAAAC,gBAAgBA,CAACC,KAAK,CAAE,CAC5C,IAAAC,SAAA,CAAwBX,QAAQ,CAAC,EAAE,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7BG,IAAI,CAAAF,UAAA,IAAEG,OAAO,CAAAH,UAAA,IACpB,IAAAI,UAAA,CAAsChB,QAAQ,CAAC,EAAE,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,GAAM,CAAAG,WAAW,CAAGnB,UAAU,CAACG,kBAAkB,CAAC,CAClDF,SAAS,CAAC,UAAM,CACZa,OAAO,CAACK,WAAW,CAACN,IAAI,CAAC,CACzBK,cAAc,CAACC,WAAW,CAACC,KAAK,CAAC,CACrC,CAAC,CAAE,CAACD,WAAW,CAAC,CAAC,CAEjB,QAAS,CAAAE,gBAAgBA,CAACC,CAAC,CAAE,CACzBR,OAAO,CAACQ,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAC3B,CACA,QAAS,CAAAC,uBAAuBA,CAACH,CAAC,CAAE,CAChCJ,cAAc,CAACI,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAClC,CACA,QAAS,CAAAE,YAAYA,CAACJ,CAAC,CAAE,CACrBA,CAAC,CAACK,cAAc,CAAC,CAAC,CAClBlB,KAAK,CAACmB,YAAY,CAACf,IAAI,CAAEI,WAAW,CAAC,CACzC,CACA,mBACIV,KAAA,CAACL,aAAa,EACVW,IAAI,CAAC,SAAS,CACdgB,KAAK,CAAC,2HAAuB,CAC7BC,IAAI,CAAErB,KAAK,CAACsB,SAAS,CAAG,eAAe,CAAG,WAAY,CACtDC,MAAM,CAAEvB,KAAK,CAACuB,MAAO,CACrBC,OAAO,CAAExB,KAAK,CAACwB,OAAQ,CACvBC,QAAQ,CAAER,YAAa,CAAAS,QAAA,eAEvB9B,IAAA,UACI+B,IAAI,CAAC,MAAM,CACXC,SAAS,CAAC,mCAAmC,CAC7CxB,IAAI,CAAC,MAAM,CACXyB,WAAW,CAAC,oBAAK,CACjBC,QAAQ,MACRC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,IAAI,CACdC,QAAQ,CAAErB,gBAAiB,CAC3BG,KAAK,CAAEX,IAAK,CACf,CAAC,cACFR,IAAA,SAAMgC,SAAS,CAAC,2CAA2C,CAAO,CAAC,cACnEhC,IAAA,UACI+B,IAAI,CAAC,MAAM,CACXC,SAAS,CAAC,0CAA0C,CACpDxB,IAAI,CAAC,aAAa,CAClByB,WAAW,CAAC,iCAAQ,CACpBC,QAAQ,MACRC,SAAS,CAAC,GAAG,CACbC,SAAS,CAAC,KAAK,CACfC,QAAQ,CAAEjB,uBAAwB,CAClCD,KAAK,CAAEP,WAAY,CACtB,CAAC,cACFZ,IAAA,SAAMgC,SAAS,CAAC,kDAAkD,CAAO,CAAC,EAC/D,CAAC,CAExB"},"metadata":{},"sourceType":"module","externalDependencies":[]}