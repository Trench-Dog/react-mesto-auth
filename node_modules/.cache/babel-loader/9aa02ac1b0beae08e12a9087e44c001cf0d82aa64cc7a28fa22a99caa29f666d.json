{"ast":null,"code":"import _classCallCheck from\"C:/Users/cloud/Desktop/praktikum/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/cloud/Desktop/praktikum/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(options){_classCallCheck(this,Api);this._baseUrl=options.baseUrl;this._headers=options.headers;}_createClass(Api,[{key:\"getInitialCards\",value:function getInitialCards(){var _this=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'GET',headers:this._headers}).then(function(res){return _this._getResponseData(res);});}},{key:\"getUserInfo\",value:function getUserInfo(){var _this2=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'GET',headers:this._headers}).then(function(res){return _this2._getResponseData(res);});}},{key:\"editUserInfo\",value:function editUserInfo(name,description){var _this3=this;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({name:name,about:description})}).then(function(res){return _this3._getResponseData(res);});}},{key:\"sendNewCard\",value:function sendNewCard(name,link){var _this4=this;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:'POST',headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(function(res){return _this4._getResponseData(res);});}},{key:\"handleCardLike\",value:function handleCardLike(cardId,isLiked){var _this5=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId,\"/likes\"),{method:isLiked?'DELETE':'PUT',headers:this._headers}).then(function(res){return _this5._getResponseData(res);});}},{key:\"changeAvatar\",value:function changeAvatar(link){var _this6=this;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:'PATCH',headers:this._headers,body:JSON.stringify({avatar:link})}).then(function(res){return _this6._getResponseData(res);});}},{key:\"deleteCard\",value:function deleteCard(cardId){var _this7=this;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(cardId),{method:'DELETE',headers:this._headers}).then(function(res){return _this7._getResponseData(res);});}},{key:\"_getResponseData\",value:function _getResponseData(res){if(!res.ok){return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}return res.json();}}]);return Api;}();export var api=new Api({baseUrl:'https://mesto.nomoreparties.co/v1/cohort-65',headers:{authorization:'23076075-9776-470a-ae27-dcd7a176dfd6','Content-Type':'application/json'}});","map":{"version":3,"names":["Api","options","_classCallCheck","_baseUrl","baseUrl","_headers","headers","_createClass","key","value","getInitialCards","_this","fetch","concat","method","then","res","_getResponseData","getUserInfo","_this2","editUserInfo","name","description","_this3","body","JSON","stringify","about","sendNewCard","link","_this4","handleCardLike","cardId","isLiked","_this5","changeAvatar","_this6","avatar","deleteCard","_this7","ok","Promise","reject","status","json","api","authorization"],"sources":["C:/Users/cloud/Desktop/praktikum/dev/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    getUserInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    editUserInfo(name, description) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: description\r\n            })\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    sendNewCard(name, link) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    handleCardLike(cardId, isLiked) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}/likes`, {\r\n            method: isLiked ? 'DELETE' : 'PUT',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    changeAvatar(link) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        }).then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n    _getResponseData(res) {\r\n        if (!res.ok) {\r\n            return Promise.reject(`Ошибка: ${res.status}`);\r\n        }\r\n        return res.json();\r\n    }\r\n}\r\nexport const api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-65',\r\n    headers: {\r\n        authorization: '23076075-9776-470a-ae27-dcd7a176dfd6',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}